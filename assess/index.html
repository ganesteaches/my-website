<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ganes Assess – Interactive Hexagon</title>
<style>
:root{
  --r1:230;   /* radius to subject icons */
  --r2:320;   /* radius to GCSE/A‑Level/IB layer */
  --icon:100; /* subject icon size        */
  --bubble:70;/* qualification bubble size */
}
*{box-sizing:border-box;margin:0;padding:0}
body{height:100vh;display:flex;align-items:center;justify-content:center;background:transparent;font-family:system-ui;color:#e2e8f0}
#chart{position:relative;width:900px;height:900px}
/* ---------------- centre logo ---------------- */
#centre{position:absolute;top:50%;left:50%;width:190px;height:190px;border-radius:50%;transform:translate(-50%,-50%);overflow:hidden;box-shadow:0 0 16px 4px rgba(56,189,248,.35)}
#centre img{width:100%;height:100%;object-fit:cover}
/* ---------------- subject icons -------------- */
.node{position:absolute;width:var(--icon);height:var(--icon);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:filter .15s ease}
.node img{width:100%;height:100%;object-fit:contain}
.science{filter:drop-shadow(0 0 14px #fb923c)}
.maths  {filter:drop-shadow(0 0 14px #60a5fa)}
.misc   {filter:drop-shadow(0 0 14px #a855f7)}
/* white hover glow */
.node:hover{filter:drop-shadow(0 0 16px #ffffff)}
/* ---------------- qualification bubbles ------ */
.bubble{position:absolute;width:var(--bubble);height:var(--bubble);border-radius:50%;background:#082f49;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;opacity:0;pointer-events:none;transition:opacity .3s,filter .15s ease}
/* bubble glow on parent hover */
.active + .bubble,
.bubble:hover{filter:drop-shadow(0 0 10px #38bdf8)}
/* ---------------- hexagon outline ------------ */
svg{position:absolute;inset:0;pointer-events:none}
polygon{stroke:#64748b;stroke-width:3;fill:none;opacity:.5}
</style>
</head>
<body>
<div id="chart">
  <svg id="outline"></svg>
  <div id="centre"><img src="../ganes_assess.png" alt="Ganes Assess"></div>
</div>
<script>
(function(){
  /* configuration */
  const subjects=[
    {key:'bio',  label:'Biology',        icon:'../front_biology_list_icon.png',  cls:'science', angle:150},
    {key:'chem', label:'Chemistry',      icon:'../front_chemistry_list_icon.png',cls:'science', angle: 90},
    {key:'phys', label:'Physics',        icon:'../front_physics_list_icon.png',  cls:'science', angle: 30},
    {key:'math', label:'Mathematics',    icon:'../front_mathematics_list_icon.png',cls:'maths',  angle:210},
    {key:'fmath',label:'Further Maths',  icon:'../front_further_mathematics_list_icon.png',cls:'maths',  angle:270},
    {key:'misc', label:'Misc',           icon:'../front_physics_list_icon.png',  cls:'misc',   angle:330}
  ];
  const quals=["GCSE","A Level","IB"];

  /* DOM refs & constants */
  const chart=document.getElementById('chart');
  const svg  =document.getElementById('outline');
  const R1=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--r1'));
  const R2=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--r2'));
  const ICON=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--icon'));
  const BUB=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--bubble'));
  const cx=chart.clientWidth/2, cy=chart.clientHeight/2;
  let activeSubject=null;

  /* create subject nodes and bubbles */
  const vertices=[];
  subjects.forEach(s=>{
    const rad=s.angle*Math.PI/180;
    const sx=cx+R1*Math.cos(rad);
    const sy=cy+R1*Math.sin(rad);
    vertices.push({angle:s.angle,x:sx,y:sy});

    const n=document.createElement('div');
    n.className=`node ${s.cls}`;
    n.style.left=(sx-ICON/2)+'px';
    n.style.top =(sy-ICON/2)+'px';
    n.innerHTML=`<img src='${s.icon}' alt='${s.label}'>`;
    chart.appendChild(n);
    s.el=n;

    /* bubbles positioned along subject radial line but distributed equally */
    s.bubbles=quals.map((q,i)=>{
      const dist=R2 + i*0; // all bubbles at same outer ring – can adjust per i if stagger wanted
      const bx=cx+dist*Math.cos(rad);
      const by=cy+dist*Math.sin(rad);
      const b=document.createElement('div');b.className='bubble';b.textContent=q;
      b.style.left=(bx-BUB/2)+'px';
      b.style.top =(by-BUB/2)+'px';
      chart.appendChild(b);
      return b;
    });

    /* click handler                            */
    n.addEventListener('click',()=>{
      // if this is already active – close it
      if(activeSubject===s){toggleSubject(null);return;}
      // open this, close previous
      toggleSubject(s);
    });
  });

  function toggleSubject(sub){
    // hide previous
    if(activeSubject){
      activeSubject.el.classList.remove('active');
      activeSubject.bubbles.forEach(b=>b.classList.remove('show'));
    }
    activeSubject=sub;
    if(sub){
      sub.el.classList.add('active');
      sub.bubbles.forEach(b=>b.classList.add('show'));
    }
  }

  /* draw hexagon outline */
  vertices.sort((a,b)=>a.angle-b.angle);
  const pts=vertices.map(v=>`${v.x},${v.y}`).join(' ');
  svg.setAttribute('viewBox',`0 0 ${chart.clientWidth} ${chart.clientHeight}`);
  const poly=document.createElementNS('http://www.w3.org/2000/svg','polygon');
  poly.setAttribute('points',pts);svg.appendChild(poly);
})();
</script>
</body>
</html>
